<!doctype html>
<html lang="en">
  <head>
    <title>MIT Climate Machine X ABGT 500</title>
    <meta charset="utf-8">
    <meta name="description" content="&lt;model-viewer&gt; template">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link type="text/css" href="./styles.css" rel="stylesheet"/>
    <link type="text/css" href="./main.css" rel="stylesheet"/>
    <!-- OPTIONAL: The :focus-visible polyfill removes the focus ring for some input types -->
    <script src="https://unpkg.com/focus-visible@5.0.2/dist/focus-visible.js" defer></script>
  </head>
  <body>


    
    <!-- <model-viewer> HTML element -->
    <model-viewer src="assets/ABGT1.glb" ar ar-modes="scene-viewer webxr quick-look" camera-controls shadow-intensity="1"
    poster="assets/ABGT1.webp" autoplay camera-orbit="-179.5deg 79.99deg auto" ar-scale="fixed"
    ios-src="assets/ABGT1.usdz" >

    <div class="background">
        <img src="img/bg.png"></div>
    <div class="title">
      <a href="http://ec2-18-204-226-106.compute-1.amazonaws.com:8080/survey">
        <span class="title_l">MIT </span>Climate Machine</a>
       
    </div>


    <button slot="ar-button" id="ar-button">
        View in your space
      </button>
    
      <button id="ar-failure">
        AR is not tracking!
      </button>


      <div id="ar-prompt">
        <img src="ar_hand_prompt.png">    </div>

      <div class="progress-bar hide" slot="progress-bar">
          <div class="update-bar"></div>
      </div>


      <div class="slider">
        <div class="slides">
          <button class="slide selected" onclick="switchSrc(this, 'ABGT1')" style="background-image: url('assets/ABGT1.webp');">
          </button>
          <button class="slide" onclick="switchSrc(this, 'ABGT2')" style="background-image: url('assets/ABGT2.webp');"> 
          </button>
          <button class="slide" onclick="switchSrc(this, 'ABGT3')" style="background-image: url('assets/ABGT3.webp');">
        </button>
      </div>   
      </div>
    </model-viewer>  


    <script type="module">
        const modelViewer = document.querySelector("model-viewer");

      
        window.switchSrc = (element, name) => {
        const ios='src-ios';
          const base = "assets/" + name;
          modelViewer.src = base + '.glb';
          modelViewer.poster = base + '.webp';

          
          const slides = document.querySelectorAll(".slide");
          slides.forEach((element) => {element.classList.remove("selected");});
          element.classList.add("selected");
        };
      
        document.querySelector(".slider").addEventListener('beforexrselect', (ev) => {
          // Keep slider interactions from affecting the XR scene.
          ev.preventDefault();
        });
      </script>



    <script src="script.js"></script>
    <!-- Loads <model-viewer> for browsers: -->
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  </body>
</html>